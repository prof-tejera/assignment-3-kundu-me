{"ast":null,"code":"var _jsxFileName = \"/Users/nkundu/Downloads/Harvar_React/a3/assignment-3-kundu-me/src/AppContext.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { useState, useEffect, createContext } from 'react';\nimport Stopwatch from \"./components/timers/Stopwatch\";\nimport Countdown from \"./components/timers/Countdown\";\nimport XY from \"./components/timers/XY\";\nimport Tabata from \"./components/timers/Tabata\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const TimerContext = /*#__PURE__*/createContext({});\nexport const AppContext = _ref => {\n  _s();\n\n  let {\n    children\n  } = _ref;\n  const [timers, setTimers] = useState([]);\n  const [timersChanged, setTimersChanged] = useState(0);\n  const [timersReloaded, setTimersReloaded] = useState(false);\n  const [appTimerAction, setAppTimerAction] = useState('');\n  const [appTimerIndex, setAppTimerIndex] = useState(-1);\n  useEffect(() => {\n    localStorage.setItem('nkunduapp-timers', JSON.stringify(timers));\n  }, [timersChanged]);\n  useEffect(() => {\n    if (timersReloaded === false) {\n      setTimersReloaded(true);\n      reloadTimer();\n    }\n  }, [timersReloaded]);\n\n  const getNextValidIndex = index => {\n    for (let i = index + 1; i < timers.length; i++) {\n      if (timers[i].valid) {\n        return i;\n      }\n    }\n\n    return false;\n  };\n\n  const appControl = value => {\n    if (value === 'Reset') {\n      setAppTimerAction(value);\n    } else if (value === 'Start') {\n      setAppTimerAction(value);\n      const appTimerNextIndex = getNextValidIndex(appTimerIndex);\n\n      if (appTimerNextIndex === false) {\n        setAppTimerIndex(0);\n      } else {\n        setAppTimerIndex(appTimerNextIndex);\n      }\n    } else if (value === 'Stop') {\n      setAppTimerAction(value);\n    } else if (value === 'Pause') {\n      setAppTimerAction(value);\n    } else if (value === 'Resume') {\n      setAppTimerAction(value);\n    } else if (value === 'Next') {\n      setAppTimerAction('Start');\n      const appTimerNextIndex = getNextValidIndex(appTimerIndex);\n\n      if (appTimerNextIndex === false) {\n        setAppTimerIndex(-1);\n      } else {\n        setAppTimerIndex(appTimerNextIndex);\n      }\n    } else if (value === 'Fast') {\n      setAppTimerAction('Stop');\n      setTimeout(() => {\n        setAppTimerAction('Start');\n        const appTimerNextIndex = getNextValidIndex(appTimerIndex);\n\n        if (appTimerNextIndex === false) {\n          setAppTimerIndex(-1);\n        } else {\n          setAppTimerIndex(appTimerNextIndex);\n        }\n      }, 500);\n    } else {// Error\n    }\n  };\n\n  const getComponentTimer = (title, index) => {\n    const componentTimer = {\n      \"Stopwatch\": /*#__PURE__*/_jsxDEV(Stopwatch, {\n        controls: true,\n        index: index\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 20\n      }, this),\n      \"Countdown\": /*#__PURE__*/_jsxDEV(Countdown, {\n        controls: true,\n        index: index\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 20\n      }, this),\n      \"XY\": /*#__PURE__*/_jsxDEV(XY, {\n        controls: true,\n        index: index\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 13\n      }, this),\n      \"Tabata\": /*#__PURE__*/_jsxDEV(Tabata, {\n        controls: true,\n        index: index\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 17\n      }, this)\n    };\n  };\n\n  const reloadTimer = () => {\n    const localStorageTimers = localStorage.getItem('nkunduapp-timers') ? JSON.parse(localStorage.getItem('nkunduapp-timers')) : [];\n    localStorageTimers.forEach(localStorageTimer => {\n      addTimer(localStorageTimer.title);\n    });\n  };\n\n  const addTimer = title => {\n    let queue = timers;\n    const index = queue.length;\n    const componentTimer = {\n      \"Stopwatch\": /*#__PURE__*/_jsxDEV(Stopwatch, {\n        controls: true,\n        index: index\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 20\n      }, this),\n      \"Countdown\": /*#__PURE__*/_jsxDEV(Countdown, {\n        controls: true,\n        index: index\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 20\n      }, this),\n      \"XY\": /*#__PURE__*/_jsxDEV(XY, {\n        controls: true,\n        index: index\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 13\n      }, this),\n      \"Tabata\": /*#__PURE__*/_jsxDEV(Tabata, {\n        controls: true,\n        index: index\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 17\n      }, this)\n    };\n    queue.push({\n      title: title,\n      data: null,\n      component: getComponentTimer(index, title),\n      valid: true,\n      index: index\n    });\n    setTimers(queue);\n    setTimersChanged(timersChanged + 1);\n  };\n\n  const updateTimer = (index, data) => {\n    let queue = timers;\n    queue[index].valid = true;\n    queue[index].data = data;\n    setTimers(queue);\n    setTimersChanged(timersChanged + 1);\n  };\n\n  const deleteTimer = index => {\n    let queue = timers;\n    queue[index].valid = false;\n    queue[index].data = null;\n    setTimers(queue);\n    setTimersChanged(timersChanged + 1);\n  };\n\n  return /*#__PURE__*/_jsxDEV(TimerContext.Provider, {\n    value: {\n      timers,\n      addTimer,\n      updateTimer,\n      deleteTimer,\n      appControl,\n      appTimerAction,\n      appTimerIndex\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 136,\n    columnNumber: 7\n  }, this);\n};\n\n_s(AppContext, \"/1A6+1rTH5da9YMvU8vO+Qi68Yg=\");\n\n_c = AppContext;\nexport default AppContext;\n\nvar _c;\n\n$RefreshReg$(_c, \"AppContext\");","map":{"version":3,"names":["React","useState","useEffect","createContext","Stopwatch","Countdown","XY","Tabata","TimerContext","AppContext","children","timers","setTimers","timersChanged","setTimersChanged","timersReloaded","setTimersReloaded","appTimerAction","setAppTimerAction","appTimerIndex","setAppTimerIndex","localStorage","setItem","JSON","stringify","reloadTimer","getNextValidIndex","index","i","length","valid","appControl","value","appTimerNextIndex","setTimeout","getComponentTimer","title","componentTimer","localStorageTimers","getItem","parse","forEach","localStorageTimer","addTimer","queue","push","data","component","updateTimer","deleteTimer"],"sources":["/Users/nkundu/Downloads/Harvar_React/a3/assignment-3-kundu-me/src/AppContext.js"],"sourcesContent":["import React from \"react\";\nimport { useState, useEffect, createContext } from 'react';\n\nimport Stopwatch from \"./components/timers/Stopwatch\";\nimport Countdown from \"./components/timers/Countdown\";\nimport XY from \"./components/timers/XY\";\nimport Tabata from \"./components/timers/Tabata\";\n\nexport const TimerContext = createContext({});\n\nexport const AppContext = ({children}) => {\n  const [timers, setTimers] = useState([]);\n\n  const [timersChanged, setTimersChanged] = useState(0);\n\n  const [timersReloaded, setTimersReloaded] = useState(false);\n\n  const [appTimerAction, setAppTimerAction] = useState('');\n  const [appTimerIndex, setAppTimerIndex] = useState(-1);\n\n  useEffect(() => {\n    localStorage.setItem('nkunduapp-timers', JSON.stringify(timers));\n  }, [timersChanged]);\n\n  useEffect(() => {\n    if (timersReloaded === false) {\n      setTimersReloaded(true);\n      reloadTimer();\n    }\n  }, [timersReloaded]);\n\n  const getNextValidIndex = (index) => {\n    for (let i = index + 1; i < timers.length; i++) {\n      if (timers[i].valid) {\n        return i;\n      }\n    }\n    return false;\n  };\n\n  const appControl = (value) => {\n    if (value === 'Reset') {\n      setAppTimerAction(value);\n    } else if (value === 'Start') {\n      setAppTimerAction(value);\n      const appTimerNextIndex = getNextValidIndex(appTimerIndex);\n      if (appTimerNextIndex === false) {\n        setAppTimerIndex(0);\n      } else {\n        setAppTimerIndex(appTimerNextIndex);\n      }\n    } else if (value === 'Stop') {\n      setAppTimerAction(value);\n    }  else if (value === 'Pause') {\n      setAppTimerAction(value);\n    }  else if (value === 'Resume') {\n      setAppTimerAction(value);\n    }  else if (value === 'Next') {\n      setAppTimerAction('Start');\n      const appTimerNextIndex = getNextValidIndex(appTimerIndex);\n      if (appTimerNextIndex === false) {\n        setAppTimerIndex(-1);\n      } else {\n        setAppTimerIndex(appTimerNextIndex);\n      }\n    } else if (value === 'Fast') {\n      setAppTimerAction('Stop');\n      setTimeout(() => {\n        setAppTimerAction('Start');\n        const appTimerNextIndex = getNextValidIndex(appTimerIndex);\n        if (appTimerNextIndex === false) {\n          setAppTimerIndex(-1);\n        } else {\n          setAppTimerIndex(appTimerNextIndex);\n        }\n      }, 500);\n    } else {\n      // Error\n    }\n  };\n\n  const getComponentTimer = (title, index) => {\n    const componentTimer = {\n      \"Stopwatch\": <Stopwatch controls={true} index={index} />,\n      \"Countdown\": <Countdown controls={true} index={index} />,\n      \"XY\": <XY controls={true} index={index} />,\n      \"Tabata\": <Tabata controls={true} index={index} />\n    };\n  };\n\n  const reloadTimer = () => {\n    const localStorageTimers = localStorage.getItem('nkunduapp-timers') ? JSON.parse(localStorage.getItem('nkunduapp-timers')) : [];\n    localStorageTimers.forEach((localStorageTimer) => {\n      addTimer(localStorageTimer.title);\n    });\n  }\n\n  const addTimer = (title) => {\n    let queue = timers;\n    const index = queue.length;\n    const componentTimer = {\n      \"Stopwatch\": <Stopwatch controls={true} index={index} />,\n      \"Countdown\": <Countdown controls={true} index={index} />,\n      \"XY\": <XY controls={true} index={index} />,\n      \"Tabata\": <Tabata controls={true} index={index} />\n    };\n\n    queue.push({\n      title: title,\n      data: null,\n      component: getComponentTimer(index, title),\n      valid: true,\n      index: index\n    });\n    setTimers(queue);\n    setTimersChanged(timersChanged + 1);\n  };\n\n  const updateTimer = (index, data) => {\n    let queue = timers;\n    queue[index].valid = true;\n    queue[index].data = data;\n    setTimers(queue);\n    setTimersChanged(timersChanged + 1);\n  };\n\n  const deleteTimer = (index) => {\n    let queue = timers;\n    queue[index].valid = false;\n    queue[index].data = null;\n    setTimers(queue);\n    setTimersChanged(timersChanged + 1);\n  };\n\n  return (\n      <TimerContext.Provider\n        value={{\n          timers,\n          addTimer,\n          updateTimer,\n          deleteTimer,\n          appControl,\n          appTimerAction,\n          appTimerIndex\n        }}\n      >\n      {children}\n      </TimerContext.Provider>\n    )\n};\n\nexport default AppContext;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}